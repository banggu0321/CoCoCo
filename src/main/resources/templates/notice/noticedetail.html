<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="~{/layout/layout1}">
<head>
<meta charset="UTF-8">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
<title>공지사항</title>
</head>
<style>
	.wrap_notice {
		width: 700px;
		margin: 0 auto;
		margin-top: 40px;
	}
	
	.wrap_notice .title input {
		width: 100%;
		box-sizing: border-box;
	}
	
	.wrap_notice textarea {
		width: 100%;
		height: 300px;
		margin-top: 15px;
	}
	
</style>
<body>
<div layout:fragment="inner_content">
	<div class="wrap_notice">
		<div class="notice_detail">
			<form id="frm">
				<div class="title">
					<label>제목</label> <input name="noticeTitle"
						th:value="${notice.noticeTitle}" readonly="readonly"/>
				</div>
				<div class="writer">
					<label>작성자</label> <input name="noticeUserName"
						th:value="${notice.user.name}" readonly="readonly"/>
				</div>
				<div class="regdate">
					<label>작성일</label> <input name="noticeRegDate"
						th:value="${#dates.format(notice.noticeRegDate, 'yy-MM-dd HH:mm')}"
						readonly="readonly"/>
				</div>
				<div class="updatedate"
					th:if="${notice.noticeRegDate}!=${notice.noticeUpdate}">
					<label>수정일</label> <input name="noticeUpdate"
						th:value="${#dates.format(notice.noticeUpdate, 'yy-MM-dd HH:mm')}"
						readonly="readonly"/>
				</div>
				<div class="text">
					<textarea name="noticeText" th:text="${notice.noticeText}"
						readonly="readonly"></textarea>
				</div>
					
				<div class="noticefiles">
					<label>첨부파일</label>
					<ul th:each="file : ${nflist}">
						<li th:if="${nflist} == null" th:text="첨부파일 없음"></li>
						<li th:if="${nflist} != null" >
							<a th:href="@{'/noticefiles/' + ${file.filename}}">[[${file.originFname}]]</a>
						</li>
					</ul>
				</div>
				 
				<a class="btnUpdateNotice"
					th:href="@{update(noticeId=${notice.noticeId})}">수정</a>
				<a id="btnDel"
					th:href="@{delete(noticeId=${notice.noticeId})}">삭제</a>
				<input type="hidden" th:name="${_csrf.parameterName}"
					th:value="${_csrf.token}" />
				<a class="btnViewList"
					th:href="@{/notice/(page=${pageVO.page}, 
    size=${pageVO.size}, type=${pageVO.type}, 
    keyword=${pageVO.keyword},noticeId=${notice.noticeId})}">목록</a>
			</form>
		</div>

	</div>
</div>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script>
		$(function() {
			$("#btnDel").click(function(e) {
				if (confirm("글을 삭제하시겠습니까?") == false) {
					e.preventDefault();
				}
			});
		});
	</script>
</body>
</html>
